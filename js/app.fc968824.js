(function(e){function t(t){for(var r,c,i=t[0],s=t[1],l=t[2],u=0,p=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0867":function(e,t,n){},1:function(e,t){},"120d":function(e,t,n){"use strict";n("fae1")},1253:function(e,t,n){"use strict";n("89d1")},"12c0":function(e,t,n){"use strict";n("15f8")},"15f8":function(e,t,n){},2467:function(e,t,n){"use strict";n("d316")},"266a":function(e,t,n){},2987:function(e,t,n){"use strict";n("d8bc")},3377:function(e,t,n){"use strict";n("5beb")},"3e1c":function(e,t,n){"use strict";n("79f5")},"466a":function(e,t,n){},"47df":function(e,t,n){"use strict";n("0867")},"55e3":function(e,t,n){},"5beb":function(e,t,n){},"5d89":function(e,t,n){},"6ab4":function(e,t,n){"use strict";n("cc72")},"73fc":function(e,t,n){},"75c9":function(e,t,n){"use strict";n("a242")},"79f5":function(e,t,n){},"7eae":function(e,t,n){"use strict";n("73fc")},"89d1":function(e,t,n){},"973c":function(e,t,n){},a242:function(e,t,n){},a528:function(e,t,n){},c30f:function(e,t,n){"use strict";n("466a")},c6c1:function(e,t,n){"use strict";n("5d89")},cc72:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("a913");var r=n("5040"),a=n.n(r),o=(n("e26b"),n("ee0f")),c=n.n(o),i=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("159b"),n("7a23")),s=Object(i["withScopeId"])("data-v-37a79d88");Object(i["pushScopeId"])("data-v-37a79d88");var l=Object(i["createTextVNode"])("ABOUT"),d=Object(i["createTextVNode"])("TIMELINE"),u=Object(i["createTextVNode"])("STORIES"),p=Object(i["createStaticVNode"])('<footer data-v-37a79d88><p data-v-37a79d88> MAP TILES: © <a href="https://www.openstreetmap.org/copyright" data-v-37a79d88>OpenStreetMap</a> contributors © <a href="https://carto.com/attributions" data-v-37a79d88>CARTO</a></p><p data-v-37a79d88> CODE: © <a href="https://schnerring.net" data-v-37a79d88>Michael Schnerring</a>, Sebastian Deuss | <a href="https://github.com/schnerring/seabats/blob/main/LICENSE" data-v-37a79d88>MIT</a> | <a href="https://github.com/schnerring/seabats" data-v-37a79d88>GitHub</a></p><p data-v-37a79d88> DESIGN &amp; TEXT © Giovanna Reder | <a rel="license" href="https://creativecommons.org/licenses/by/4.0" data-v-37a79d88>CC BY 4.0</a></p></footer>',1);Object(i["popScopeId"])();var f=s((function(e,t,n,r,a,o){var c=Object(i["resolveComponent"])("router-link"),f=Object(i["resolveComponent"])("router-view");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[Object(i["createVNode"])("nav",null,[Object(i["createVNode"])(c,{to:"/"},{default:s((function(){return[l]})),_:1}),Object(i["createVNode"])(c,{to:"/timeline"},{default:s((function(){return[d]})),_:1}),Object(i["createVNode"])(c,{to:"/stories"},{default:s((function(){return[u]})),_:1})]),Object(i["createVNode"])("main",null,[Object(i["createVNode"])(f)]),p],64)})),b=Object(i["defineComponent"])({});n("2467"),n("6ab4");b.render=f,b.__scopeId="data-v-37a79d88";var h=b,v=n("1da1"),m=(n("96cf"),n("b0c0"),n("6c02")),O=Object(i["withScopeId"])("data-v-3050e800");Object(i["pushScopeId"])("data-v-3050e800");var g={class:"parent"},j={class:"timeline"},y={class:"map"};Object(i["popScopeId"])();var w=O((function(e,t,n,r,a,o){var c=Object(i["resolveComponent"])("timeline"),s=Object(i["resolveComponent"])("leaflet-map");return Object(i["openBlock"])(),Object(i["createBlock"])("div",g,[Object(i["createVNode"])("div",j,[Object(i["createVNode"])(c,{events:e.events,tooltipContent:e.tooltipContent,onEventClick:e.highlightFlight,onDateRangeChanged:e.dateRangeChanged},null,8,["events","tooltipContent","onEventClick","onDateRangeChanged"])]),Object(i["createVNode"])("div",y,[Object(i["createVNode"])(s,{selectedLineId:e.selectedFlightId},null,8,["selectedLineId"])])])})),x=n("5530"),k=(n("99af"),n("d3b7"),n("25f0"),n("d81d"),n("5a0c")),S=n.n(k),N=n("5502"),C=n("d4ec"),D=function e(t){Object(C["a"])(this,e),this.fields=t},I=(n("a4d3"),n("e01a"),Object(i["withScopeId"])("data-v-80e5f5c0"));Object(i["pushScopeId"])("data-v-80e5f5c0");var R=Object(i["createVNode"])("div",{id:"leaflet"},null,-1),V={class:"legend"};Object(i["popScopeId"])();var B=I((function(e,t,n,r,a,o){var c=Object(i["resolveComponent"])("legend-item");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[R,Object(i["createVNode"])("div",V,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.legendItems,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:e.label,color:e.color,label:e.label,attribution:e.attribution,description:e.description},null,8,["color","label","attribution","description"])})),128))])],64)})),L=n("b85c"),T=(n("4ec9"),n("3ca3"),n("ddb0"),n("7db0"),n("4de4"),n("e11e")),z={color:"#ffffff",weight:1},_={color:"#1148fe",weight:3};function E(){return new T["TileLayer"]("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png")}function M(e,t){return{weight:"sar"===e?2:1,color:t,stroke:!1}}var A=new T["LatLng"](35.917973,14.409943),F=6,Y=Object(i["withScopeId"])("data-v-27c0c162");Object(i["pushScopeId"])("data-v-27c0c162");var Z={class:"legend-item"},H={class:"legend-text"};Object(i["popScopeId"])();var J=Y((function(e,t,n,r,a,o){var c=Object(i["resolveComponent"])("el-tooltip");return Object(i["openBlock"])(),Object(i["createBlock"])("div",Z,[Object(i["createVNode"])("div",{class:"legend-symbol",style:{background:e.color}},null,4),Object(i["createVNode"])(c,{placement:"right"},{content:Y((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.attribution),1)]})),default:Y((function(){return[Object(i["createVNode"])("div",H,[Object(i["createVNode"])("span",null,Object(i["toDisplayString"])(e.label),1)])]})),_:1})])})),P=(n("7ee1"),n("f440")),G=n.n(P),$=Object(i["defineComponent"])({components:{ElTooltip:G.a},props:{color:{type:String},label:{type:String},attribution:{type:String},description:{type:String}}});n("c6c1");$.render=J,$.__scopeId="data-v-27c0c162";var q=$,U=Object(i["defineComponent"])({components:{LegendItem:q},data:function(){return{map:void 0,data:new Map,selectedLine:void 0,legendItems:[]}},props:{selectedLineId:{type:String}},computed:Object(x["a"])({},Object(N["c"])(["flights","zones"])),methods:Object(x["a"])({},Object(N["b"])(["getZones"])),watch:{selectedLineId:function(){var e;if(null===(e=this.selectedLine)||void 0===e||e.remove(),this.selectedLine=void 0,this.selectedLineId){var t=this.data.get(this.selectedLineId);if(t){var n,r,a=Object(T["geoJSON"])(t.toGeoJSON(),{style:_});null===(n=this.map)||void 0===n||n.addLayer(a),null===(r=this.map)||void 0===r||r.fitBounds(a.getBounds().pad(.2)),this.selectedLine=a}}},flights:function(e){var t,n,r=this,a=new T["FeatureGroup"],o=Object(L["a"])(e);try{for(o.s();!(n=o.n()).done;){var c=n.value;if("string"!==typeof c.id)throw"Flights require valid ID";if(!this.data.has(c.id)){var i=Object(T["geoJSON"])(c,{style:z});this.data.set(c.id,i),a.addLayer(i)}}}catch(u){o.e(u)}finally{o.f()}null===(t=this.map)||void 0===t||t.addLayer(a);var s,l=Object(L["a"])(this.data.keys());try{var d=function(){var t,n=s.value,a=e.find((function(e){return e.id===n}));if(a)return"continue";null===(t=r.data.get(n))||void 0===t||t.remove(),r.data.delete(n)};for(l.s();!(s=l.n()).done;)d()}catch(u){l.e(u)}finally{l.f()}},zones:function(e){var t;this.legendItems=e.filter((function(e){var t;return"sar"===(null===(t=e.properties)||void 0===t?void 0:t.type)})).map((function(e){var t,n,r,a;return{color:null===(t=e.properties)||void 0===t?void 0:t.color,label:null===(n=e.properties)||void 0===n?void 0:n.label,attribution:null===(r=e.properties)||void 0===r?void 0:r.attribution,description:null===(a=e.properties)||void 0===a?void 0:a.description}}));var n,r=new T["FeatureGroup"],a=Object(L["a"])(e);try{for(a.s();!(n=a.n()).done;){var o,c,i=n.value;r.addLayer(Object(T["geoJSON"])(i,{style:M(null===(o=i.properties)||void 0===o?void 0:o.type,null===(c=i.properties)||void 0===c?void 0:c.color)}))}}catch(s){a.e(s)}finally{a.f()}null===(t=this.map)||void 0===t||t.addLayer(r)}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.map=new T["Map"]("leaflet",{renderer:new T["Canvas"],zoomControl:!1,attributionControl:!1}),e.map.setView(A,F),e.map.addLayer(E()),t.next=5,e.getZones();case 5:case"end":return t.stop()}}),t)})))()},beforeUnmount:function(){var e;null===(e=this.map)||void 0===e||e.remove()}});n("d1b2");U.render=B,U.__scopeId="data-v-80e5f5c0";var W=U,X=Object(i["withScopeId"])("data-v-3719903d");Object(i["pushScopeId"])("data-v-3719903d");var K={class:"timeline"},Q={class:"d3",ref:"d3"},ee={class:"info-bar"},te=Object(i["createVNode"])("div",{class:"event-info"},null,-1);Object(i["popScopeId"])();var ne=X((function(e,t,n,r,a,o){var c=Object(i["resolveComponent"])("date-range"),s=Object(i["resolveComponent"])("flight-tooltip");return Object(i["openBlock"])(),Object(i["createBlock"])("div",K,[Object(i["createVNode"])("div",Q,null,512),Object(i["createVNode"])("div",ee,[Object(i["createVNode"])(c,{onDateRangeChanged:t[1]||(t[1]=function(t){return e.setDateRange(t)})}),te,e.tooltipContent?(Object(i["openBlock"])(),Object(i["createBlock"])("div",{class:"event-info",key:e.tooltipContent.title},[Object(i["createVNode"])(s,{content:e.tooltipContent},null,8,["content"])])):Object(i["createCommentVNode"])("",!0)])])})),re=(n("a15b"),n("4e82"),Object(i["withScopeId"])("data-v-32d1ccce"));Object(i["pushScopeId"])("data-v-32d1ccce");var ae={class:"date-range"},oe={class:"date-pager"},ce={class:"current"};Object(i["popScopeId"])();var ie=re((function(e,t,n,r,a,o){var c=Object(i["resolveComponent"])("el-radio-button"),s=Object(i["resolveComponent"])("el-radio-group");return Object(i["openBlock"])(),Object(i["createBlock"])("div",ae,[Object(i["createVNode"])(s,{modelValue:e.duration,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.duration=t}),size:"medium"},{default:re((function(){return[Object(i["createVNode"])(c,{label:"year"}),Object(i["createVNode"])(c,{label:"month"}),Object(i["createVNode"])(c,{label:"week",disabled:""}),Object(i["createVNode"])(c,{label:"day"})]})),_:1},8,["modelValue"]),Object(i["createVNode"])("div",oe,[e.enabled?(Object(i["openBlock"])(),Object(i["createBlock"])("button",{key:0,class:"pager-button",onClick:t[2]||(t[2]=function(t){return e.previous()})}," < ")):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])("div",ce,Object(i["toDisplayString"])(e.formattedDate),1),e.enabled?(Object(i["openBlock"])(),Object(i["createBlock"])("button",{key:1,class:"pager-button",onClick:t[3]||(t[3]=function(t){return e.next()})},">")):Object(i["createCommentVNode"])("",!0)])])})),se=(n("ebbd"),n("9aae")),le=n.n(se),de=(n("1e5c"),n("13e1")),ue=n.n(de),pe=Object(i["defineComponent"])({components:{ElRadioGroup:ue.a,ElRadioButton:le.a},emits:["dateRangeChanged"],data:function(){return{selectedDate:new Date(2021,6,15),duration:"year"}},props:{enabled:{type:Boolean,default:!0}},watch:{dateRange:function(){this.$emit("dateRangeChanged",this.dateRange)}},computed:{formattedDate:function(){if("year"===this.duration)return S()(this.selectedDate).format("YYYY").toString();if("month"===this.duration)return S()(this.selectedDate).format("YYYY / MM").toString();if("day"===this.duration)return S()(this.selectedDate).format("YYYY / MM / DD").toString();throw"Unsupported unitType ".concat(this.duration)},dateRange:function(){return[S()(this.selectedDate).startOf(this.duration).toDate(),S()(this.selectedDate).endOf(this.duration).toDate()]}},methods:{previous:function(){this.selectedDate=S()(this.selectedDate).subtract(1,this.duration).toDate()},next:function(){this.selectedDate=S()(this.selectedDate).add(1,this.duration).toDate()}}});n("120d");pe.render=ie,pe.__scopeId="data-v-32d1ccce";var fe=pe,be=n("2ef0"),he=n("898b"),ve=Object(i["withScopeId"])("data-v-73929900");Object(i["pushScopeId"])("data-v-73929900");var me={id:"Tooltip-Container"},Oe={class:"single-tooltip"};Object(i["popScopeId"])();var ge=ve((function(e,t,n,r,a,o){return Object(i["openBlock"])(),Object(i["createBlock"])("div",me,[Object(i["createVNode"])("div",Oe,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.content.fields,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])("span",{key:e.key},[Object(i["createVNode"])("strong",null,Object(i["toDisplayString"])(e.key),1),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.value),1)])})),128))])])})),je=Object(i["defineComponent"])({props:{content:{type:D}}});n("3e1c");je.render=ge,je.__scopeId="data-v-73929900";var ye=je,we=Object(i["defineComponent"])({emits:["eventClick","dateRangeChanged"],components:{DateRange:fe,FlightTooltip:ye},props:{minDate:{type:Date,default:new Date(2021,0,1)},maxDate:{type:Date,default:new Date(2021,11,31)},events:{type:Array,default:[]},tooltipContent:{type:D,default:void 0}},computed:{daysInDomain:function(){return S()(this.maxDate).diff(S()(this.minDate),"days",!0)},maxZoomFactor:function(){var e=4;return this.daysInDomain/e},labels:function(){var e=this.events.map((function(e){return e.label}));return Object(be["uniq"])(e)}},data:function(){var e=this;return{debounceDateRangeChanged:Object(be["debounce"])((function(t,n){e.$emit("dateRangeChanged",t,n)}),1e3),zoomBehavior:{},zoomRect:{},margin:{top:10,right:30,bottom:10,left:150},xScale:{},zoomScale:{},yScale:{},xAxisDefinition:{},xAxis:{},tracksSelection:{},defaultSelection:[],svg:{},eventsSelection:{},clipRect:{},resizeObserver:new ResizeObserver(Object(be["debounce"])((function(t){e.onResize(t)}),250))}},methods:{resetZoom:function(){this.zoomBehavior.transform(this.zoomRect,he["g"])},setDateRange:function(e){var t=e[0],n=e[1];this.zoomScale=this.zoomScale.domain([t,n]),this.xAxisDefinition.scale(this.zoomScale),this.scalesChanged();var r=this.zoomScale.domain()[0],a=this.zoomScale.domain()[1];this.debounceDateRangeChanged(r,a)},zoom:function(e){this.zoomScale=e.transform.rescaleX(this.xScale),this.xAxisDefinition.scale(this.zoomScale),this.scalesChanged();var t=this.zoomScale.domain()[0],n=this.zoomScale.domain()[1];this.debounceDateRangeChanged(t,n)},onResize:function(e){var t=this;e.forEach((function(e){var n={height:e.contentRect.height,width:e.contentRect.width},r={height:Math.max(0,n.height-t.margin.top-t.margin.bottom),width:Math.max(0,n.width-t.margin.left-t.margin.right)};t.svg.attr("width",r.width).attr("height",r.height),t.zoomRect.attr("width",r.width).attr("height",r.height),t.zoomBehavior.extent([[0,0],[r.width,r.height]]),t.clipRect.attr("width",r.width).attr("height",r.height);var a=20;t.zoomScale.rangeRound([0,r.width]),t.xScale.rangeRound([0,r.width]),t.yScale.rangeRound([0,r.height-a]),t.scalesChanged()}))},scalesChanged:function(){var e=this;Object(he["e"])(".track-rect").attr("width",this.zoomScale.range()[1]).attr("height",this.yScale.bandwidth),Object(he["e"])(".track-group").attr("transform",(function(t){var n=e.yScale(t);return void 0===n?"translate(0, 0)":"translate(0, ".concat(n,")")})),Object(he["e"])(".event").attr("width",(function(t){var n=e.zoomScale(t.end),r=e.zoomScale(t.start);return Math.max(10,n-r)})).attr("height",this.yScale.bandwidth).attr("transform",(function(t){return"translate(".concat(e.zoomScale(t.start),", ").concat(e.yScale(t.label),")")})),this.xAxis.attr("transform","translate(0, ".concat(this.yScale.range()[1],")")).call(this.xAxisDefinition)}},watch:{events:function(){var e=this;this.eventsSelection=this.eventsSelection.data(this.events,(function(e){return e.key})).join((function(t){return t.append("rect").attr("class","event").attr("fill","var(--white)").on("click.select",(function(){Object(he["e"])(".selected-track").classed("selected-track",!1),Object(he["d"])(this).classed("selected-track",!0),Object(he["d"])(this).attr("selected")})).on("click.emit",(function(t,n){e.$emit("eventClick",n)}))}),(function(e){return e}),(function(e){return e.selectAll(".selected-track").classed("selected-track",!1),e.remove()})),this.tracksSelection=this.tracksSelection.data(this.labels).join((function(e){var t=e.append("g").attr("class","track-group");return t.append("rect").attr("class","track-rect").attr("fill","var(--grey2)"),t.append("text").attr("class","track-label").attr("text-anchor","end").attr("dominant-baseline","text-before-edge").attr("transform","translate(-10, 0)").attr("text-align","right").text((function(e){return e})).style("fill","var(--grey3)").style("font-size","10pt"),t}),(function(e){return e}),(function(e){return e.remove()})),this.yScale.domain(this.labels.sort()),this.scalesChanged()}},created:function(){this.xScale=Object(he["c"])().domain([this.minDate,this.maxDate]),this.zoomScale=this.xScale,this.yScale=Object(he["b"])().padding(.6),this.xAxisDefinition=Object(he["a"])(this.xScale)},mounted:function(){this.svg=Object(he["d"])(".d3").append("svg").attr("class","canvas").attr("transform","translate(".concat(this.margin.left,", ").concat(this.margin.top,")")).style("overflow","visible"),this.xAxis=this.svg.append("g").attr("class","x-axis").call(this.xAxisDefinition),this.tracksSelection=this.svg.append("g").attr("class","tracks-g").selectAll(".track"),this.zoomBehavior=Object(he["f"])().scaleExtent([.25,999999]).on("zoom",this.zoom),this.zoomRect=this.svg.append("rect").style("fill","none").style("pointer-events","all").call(this.zoomBehavior),this.clipRect=this.svg.append("defs").append("clipPath").attr("id","EventsClip").append("rect").attr("fill","transparent"),this.eventsSelection=this.svg.append("g").attr("class","events-g").attr("clip-path","url(#EventsClip)").selectAll(".event"),this.resizeObserver.observe(this.$refs["d3"]),this.$emit("dateRangeChanged",this.minDate,this.maxDate)}});n("7eae"),n("e450");we.render=ne,we.__scopeId="data-v-3719903d";var xe=we,ke=Object(i["defineComponent"])({data:function(){return{events:[],tooltipContent:void 0,selectedFlightId:void 0}},methods:Object(x["a"])({dateRangeChanged:function(e,t){var n=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.getFlights({from:e,to:t});case 2:case"end":return r.stop()}}),r)})))()},highlightFlight:function(e){this.selectedFlightId=e.key;var t=e.data.to,n=e.data.from,r=S()(t).diff(n,"minutes"),a=Math.floor(r/60),o=r%60;this.tooltipContent=new D([{key:"DATE",value:S()(e.data.from).format("YYYY-MM-DD")},{key:"TIME",value:S()(e.data.from).format("HH:mm")},{key:"DURATION",value:"".concat(a.toString(),"h ").concat(o,"m")},{key:"TYPE",value:e.data.aircraft}])}},Object(N["b"])(["getFlights"])),computed:Object(x["a"])({},Object(N["c"])(["flights"])),watch:{flights:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.events=e.map((function(e){return{data:e.properties,label:e.properties.aircraft,key:e.id,start:S()(e.properties.from).toDate(),end:S()(e.properties.to).toDate()}}));case 1:case"end":return n.stop()}}),n)})))()}},components:{LeafletMap:W,Timeline:xe}});n("2987");ke.render=w,ke.__scopeId="data-v-3050e800";var Se=ke,Ne=Object(i["withScopeId"])("data-v-336f499a");Object(i["pushScopeId"])("data-v-336f499a");var Ce={class:"parent"},De={class:"child"},Ie=Object(i["createVNode"])("h1",null,"Hello! You Need Data To Use This App",-1),Re=Object(i["createVNode"])("p",null," Sorry, we currently don't have a license to publicly redistribute any of our test data. ",-1),Ve=Object(i["createVNode"])("p",null," Please contact one of the project maintainers to request a sample data set. ",-1),Be={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-loader",width:"44",height:"44",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#2c3e50",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Le=Object(i["createVNode"])("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Te=Object(i["createVNode"])("line",{x1:"12",y1:"6",x2:"12",y2:"3"},null,-1),ze=Object(i["createVNode"])("line",{x1:"16.25",y1:"7.75",x2:"18.4",y2:"5.6"},null,-1),_e=Object(i["createVNode"])("line",{x1:"18",y1:"12",x2:"21",y2:"12"},null,-1),Ee=Object(i["createVNode"])("line",{x1:"16.25",y1:"16.25",x2:"18.4",y2:"18.4"},null,-1),Me=Object(i["createVNode"])("line",{x1:"12",y1:"18",x2:"12",y2:"21"},null,-1),Ae=Object(i["createVNode"])("line",{x1:"7.75",y1:"16.25",x2:"5.6",y2:"18.4"},null,-1),Fe=Object(i["createVNode"])("line",{x1:"6",y1:"12",x2:"3",y2:"12"},null,-1),Ye=Object(i["createVNode"])("line",{x1:"7.75",y1:"7.75",x2:"5.6",y2:"5.6"},null,-1),Ze={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-upload",width:"44",height:"44",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#2c3e50",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},He=Object(i["createVNode"])("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Je=Object(i["createVNode"])("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"},null,-1),Pe=Object(i["createVNode"])("polyline",{points:"7 9 12 4 17 9"},null,-1),Ge=Object(i["createVNode"])("line",{x1:"12",y1:"4",x2:"12",y2:"16"},null,-1),$e={class:"status-text"},qe=Object(i["createVNode"])("p",null,[Object(i["createTextVNode"])(" If you want to provide your own data, "),Object(i["createVNode"])("a",{href:"https://github.com/schnerring/seabats/blob/main/README.md"},"read more about the expected data format"),Object(i["createTextVNode"])(". ")],-1);Object(i["popScopeId"])();var Ue=Ne((function(e,t,n,r,a,o){return Object(i["openBlock"])(),Object(i["createBlock"])("div",Ce,[Object(i["createVNode"])("div",De,[Ie,Re,Ve,Object(i["createVNode"])("label",null,[Object(i["createVNode"])("input",{type:"file",ref:"file",onChange:t[1]||(t[1]=function(t){return e.loadData(t.target.files[0])}),disabled:e.isLoading},null,40,["disabled"]),e.isLoading?(Object(i["openBlock"])(),Object(i["createBlock"])("svg",Be,[Le,Te,ze,_e,Ee,Me,Ae,Fe,Ye])):(Object(i["openBlock"])(),Object(i["createBlock"])("svg",Ze,[He,Je,Pe,Ge])),Object(i["createVNode"])("p",$e,Object(i["toDisplayString"])(e.status),1)]),qe])])})),We=n("c4e3"),Xe=n("16b2"),Ke=n("5d16"),Qe=n("bc3a"),et=n.n(Qe),tt=n("0e54"),nt=n.n(tt),rt=new Xe["a"]("geoJSON");function at(e){return ot.apply(this,arguments)}function ot(){return ot=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,rt.bulkDocs(t.features);case 2:return e.next=4,rt.createIndex({index:{fields:["id","properties.from","properties.to","properties.type"]}});case 4:case"end":return e.stop()}}),e)}))),ot.apply(this,arguments)}function ct(){return it.apply(this,arguments)}function it(){return it=Object(v["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,rt.find({selector:{$or:[{"properties.type":"sar"},{"properties.type":"12nm"},{"properties.type":"24nm"}]}});case 2:return t=e.sent,e.abrupt("return",t.docs);case 4:case"end":return e.stop()}}),e)}))),it.apply(this,arguments)}function st(e,t){return lt.apply(this,arguments)}function lt(){return lt=Object(v["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,rt.find({selector:{"properties.type":"flight","properties.from":{$gte:t,$lte:n}}});case 2:return r=e.sent,e.abrupt("return",r.docs);case 4:case"end":return e.stop()}}),e)}))),lt.apply(this,arguments)}function dt(e){return ut.apply(this,arguments)}function ut(){return ut=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,rt.find({selector:{id:{$in:t}}});case 2:return n=e.sent,e.abrupt("return",n.docs);case 4:case"end":return e.stop()}}),e)}))),ut.apply(this,arguments)}function pt(){return ft.apply(this,arguments)}function ft(){return ft=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,rt.info();case 2:return e.t0=e.sent.doc_count,e.abrupt("return",e.t0>0);case 4:case"end":return e.stop()}}),e)}))),ft.apply(this,arguments)}function bt(e){return ht.apply(this,arguments)}function ht(){return ht=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,et.a.get("articles/".concat(t,".md"));case 2:return n=e.sent,e.abrupt("return",nt()(n.data));case 4:case"end":return e.stop()}}),e)}))),ht.apply(this,arguments)}Xe["a"].plugin(Ke["a"]);var vt=Object(i["defineComponent"])({data:function(){return{isLoading:!1}},computed:{status:function(){return this.isLoading?"Loading ...":"Click here to select a data set from the local file system"}},methods:{loadData:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.isLoading=!0,n.next=3,e.arrayBuffer();case 3:return r=n.sent,n.next=6,Object(We["loadAsync"])(r);case 6:a=n.sent,n.prev=7,n.t0=regeneratorRuntime.keys(a.files);case 9:if((n.t1=n.t0()).done){n.next=22;break}if(o=n.t1.value,c=a.file(o),c){n.next=14;break}throw"Error unzipping file: ".concat(o);case 14:return n.next=16,c.async("string");case 16:return i=n.sent,s=JSON.parse(i),n.next=20,at(s);case 20:n.next=9;break;case 22:n.next=27;break;case 24:n.prev=24,n.t2=n["catch"](7),console.error(n.t2);case 27:return n.prev=27,t.isLoading=!1,n.finish(27);case 30:t.$router.push("/");case 31:case"end":return n.stop()}}),n,null,[[7,24,27,30]])})))()}}});n("47df");vt.render=Ue,vt.__scopeId="data-v-336f499a";var mt=vt,Ot=Object(i["withScopeId"])("data-v-70363516");Object(i["pushScopeId"])("data-v-70363516");var gt={class:"the-about"},jt={class:"about-text"},yt=Object(i["createTextVNode"])("You can read more about this here.");Object(i["popScopeId"])();var wt=Ot((function(e,t,n,r,a,o){var c=Object(i["resolveComponent"])("leaflet-map"),s=Object(i["resolveComponent"])("router-link");return Object(i["openBlock"])(),Object(i["createBlock"])("div",gt,[Object(i["createVNode"])(c),Object(i["createVNode"])("div",jt,[Object(i["createVNode"])("div",{innerHTML:e.aboutText},null,8,["innerHTML"]),Object(i["createVNode"])("div",null,[Object(i["createVNode"])(s,{to:"/stories"},{default:Ot((function(){return[yt]})),_:1})])])])})),xt=Object(i["withScopeId"])("data-v-b96994ea");Object(i["pushScopeId"])("data-v-b96994ea");var kt={class:"leaflet-container"},St=Object(i["createVNode"])("div",{id:"leaflet"},null,-1),Nt={class:"legend"};Object(i["popScopeId"])();var Ct=xt((function(e,t,n,r,a,o){var c=Object(i["resolveComponent"])("legend-item");return Object(i["openBlock"])(),Object(i["createBlock"])("div",kt,[St,Object(i["createVNode"])("div",Nt,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.legendItems,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:e.label,color:e.color,label:e.label,attribution:e.attribution,description:e.description},null,8,["color","label","attribution","description"])})),128))])])})),Dt=Object(i["defineComponent"])({components:{LegendItem:q},computed:Object(x["a"])({},Object(N["c"])(["zones"])),methods:Object(x["a"])({},Object(N["b"])(["getZones"])),data:function(){return{map:void 0,legendItems:[]}},props:{flights:{default:function(){return[]},type:Array}},watch:{zones:function(e){var t;this.legendItems=e.filter((function(e){var t;return"sar"===(null===(t=e.properties)||void 0===t?void 0:t.type)})).map((function(e){var t,n,r,a;return{color:null===(t=e.properties)||void 0===t?void 0:t.color,label:null===(n=e.properties)||void 0===n?void 0:n.label,attribution:null===(r=e.properties)||void 0===r?void 0:r.attribution,description:null===(a=e.properties)||void 0===a?void 0:a.description}}));var n,r=new T["FeatureGroup"],a=Object(L["a"])(e);try{for(a.s();!(n=a.n()).done;){var o,c,i=n.value;r.addLayer(Object(T["geoJSON"])(i,{style:M(null===(o=i.properties)||void 0===o?void 0:o.type,null===(c=i.properties)||void 0===c?void 0:c.color)}))}}catch(s){a.e(s)}finally{a.f()}null===(t=this.map)||void 0===t||t.addLayer(r)}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.map=new T["Map"]("leaflet",{renderer:new T["Canvas"],zoomControl:!1,attributionControl:!1,keyboard:!1,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1}),e.map.setView(A,F),e.map.addLayer(E()),t.next=5,e.getZones();case 5:case"end":return t.stop()}}),t)})))()},beforeUnmount:function(){var e;null===(e=this.map)||void 0===e||e.remove()}});n("12c0");Dt.render=Ct,Dt.__scopeId="data-v-b96994ea";var It=Dt,Rt=Object(i["defineComponent"])({computed:Object(x["a"])({},Object(N["c"])(["aboutText"])),methods:Object(x["a"])({},Object(N["b"])(["getAboutText"])),components:{LeafletMap:It},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAboutText();case 2:case"end":return t.stop()}}),t)})))()}});n("f838"),n("75c9");Rt.render=wt,Rt.__scopeId="data-v-70363516";var Vt=Rt,Bt=Object(i["withScopeId"])("data-v-10d77e5e");Object(i["pushScopeId"])("data-v-10d77e5e");var Lt={class:"the-info"};Object(i["popScopeId"])();var Tt=Bt((function(e,t,n,r,a,o){var c=Object(i["resolveComponent"])("leaflet-map");return Object(i["openBlock"])(),Object(i["createBlock"])("div",Lt,[Object(i["createVNode"])("div",{class:"info-text",innerHTML:e.storiesText},null,8,["innerHTML"]),Object(i["createVNode"])(c,{flights:e.flights},null,8,["flights"])])})),zt=(n("ac1f"),n("1276"),Object(i["withScopeId"])("data-v-f7f5bbd6"));Object(i["pushScopeId"])("data-v-f7f5bbd6");var _t={class:"leaflet-container"},Et=Object(i["createVNode"])("div",{id:"leaflet"},null,-1),Mt={class:"tooltip-list"},At={class:"legend"};Object(i["popScopeId"])();var Ft=zt((function(e,t,n,r,a,o){var c=Object(i["resolveComponent"])("tooltip"),s=Object(i["resolveComponent"])("legend-item");return Object(i["openBlock"])(),Object(i["createBlock"])("div",_t,[Et,Object(i["createVNode"])("div",Mt,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.tooltipContents,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:e,from:e.from,to:e.to,aircraftName:e.aircraftName},null,8,["from","to","aircraftName"])})),128))]),Object(i["createVNode"])("div",At,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.legendItems,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:e.label,color:e.color,label:e.label,attribution:e.attribution,description:e.description},null,8,["color","label","attribution","description"])})),128))])])})),Yt={class:"single-tooltip"};function Zt(e,t,n,r,a,o){return Object(i["openBlock"])(),Object(i["createBlock"])("div",Yt,[Object(i["createVNode"])("span",null,"from "+Object(i["toDisplayString"])(e.formatDate(e.from))+" to "+Object(i["toDisplayString"])(e.formatDate(e.to))+": "+Object(i["toDisplayString"])(e.aircraftName),1)])}var Ht=Object(i["defineComponent"])({methods:{formatDate:function(e){return S()(e).format(this.dayjsFormat)}},props:{from:{type:Date},to:{type:Date},aircraftName:{type:String},dayjsFormat:{type:String,default:"YY/MM/DD HH:mm"}}});Ht.render=Zt;var Jt=Ht,Pt=Object(i["defineComponent"])({components:{LegendItem:q,Tooltip:Jt},computed:Object(x["a"])({},Object(N["c"])(["zones"])),methods:Object(x["a"])({},Object(N["b"])(["getZones"])),data:function(){return{map:void 0,data:void 0,legendItems:[],tooltipContents:[]}},props:{flights:{default:function(){return[]},type:Array}},watch:{flights:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.data&&t.data.remove(),t.tooltipContents.length>0&&(t.tooltipContents=[]),o=new T["FeatureGroup"],c=Object(L["a"])(e);try{for(c.s();!(i=c.n()).done;)s=i.value,t.tooltipContents.push({aircraftName:s.properties.aircraft,from:S()(s.properties.from).toDate(),to:S()(s.properties.to).toDate()}),o.addLayer(Object(T["geoJSON"])(s,{style:_}))}catch(l){c.e(l)}finally{c.f()}null===(r=t.map)||void 0===r||r.addLayer(o),null===(a=t.map)||void 0===a||a.fitBounds(o.getBounds().pad(.2)),t.data=o;case 8:case"end":return n.stop()}}),n)})))()},zones:function(e){var t;this.legendItems=e.filter((function(e){var t;return"sar"===(null===(t=e.properties)||void 0===t?void 0:t.type)})).map((function(e){var t,n,r,a;return{color:null===(t=e.properties)||void 0===t?void 0:t.color,label:null===(n=e.properties)||void 0===n?void 0:n.label,attribution:null===(r=e.properties)||void 0===r?void 0:r.attribution,description:null===(a=e.properties)||void 0===a?void 0:a.description}}));var n,r=new T["FeatureGroup"],a=Object(L["a"])(e);try{for(a.s();!(n=a.n()).done;){var o,c,i=n.value;r.addLayer(Object(T["geoJSON"])(i,{style:M(null===(o=i.properties)||void 0===o?void 0:o.type,null===(c=i.properties)||void 0===c?void 0:c.color)}))}}catch(s){a.e(s)}finally{a.f()}null===(t=this.map)||void 0===t||t.addLayer(r)}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.map=new T["Map"]("leaflet",{renderer:new T["Canvas"],zoomControl:!1,attributionControl:!1,keyboard:!1,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1}),e.map.setView(A,F),e.map.addLayer(E()),t.next=5,e.getZones();case 5:case"end":return t.stop()}}),t)})))()},beforeUnmount:function(){var e;null===(e=this.map)||void 0===e||e.remove()}});n("3377");Pt.render=Ft,Pt.__scopeId="data-v-f7f5bbd6";var Gt=Pt,$t=Object(i["defineComponent"])({computed:Object(x["a"])({},Object(N["c"])(["storiesText"])),methods:Object(x["a"])({},Object(N["b"])(["getStoriesText"])),components:{LeafletMap:Gt},data:function(){return{flights:[]}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getStoriesText();case 2:n=document.getElementsByClassName("data-link"),r=Object(L["a"])(n);try{for(o=function(){var t,n=a.value,r=null===(t=n.getAttribute("data"))||void 0===t?void 0:t.split(",");if(!r)throw"data-link requires data attribute";n.addEventListener("click",Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,dt(r);case 2:e.flights=t.sent;case 3:case"end":return t.stop()}}),t)}))))},r.s();!(a=r.n()).done;)o()}catch(c){r.e(c)}finally{r.f()}case 5:case"end":return t.stop()}}),t)})))()}});n("1253"),n("c30f");$t.render=Tt,$t.__scopeId="data-v-10d77e5e";var qt,Ut=$t,Wt=n("ade3"),Xt="checkIfDataExists",Kt="getFlights",Qt="getAboutText",en="getStoriesText",tn="getZones",nn=Object(N["a"])({state:{dataExists:!1,flights:[],zones:[],aboutText:"",storiesText:""},mutations:(qt={},Object(Wt["a"])(qt,Xt,(function(e,t){e.dataExists=t})),Object(Wt["a"])(qt,Kt,(function(e,t){e.flights=t})),Object(Wt["a"])(qt,tn,(function(e,t){e.zones=t})),Object(Wt["a"])(qt,Qt,(function(e,t){e.aboutText=t})),Object(Wt["a"])(qt,en,(function(e,t){e.storiesText=t})),qt),actions:{getFlights:function(e,t){return Object(v["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,st(t.from,t.to);case 3:a=n.sent,r(Kt,a);case 5:case"end":return n.stop()}}),n)})))()},getZones:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,ct();case 3:r=t.sent,n(tn,r);case 5:case"end":return t.stop()}}),t)})))()},checkIfDataExists:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.t0=n,t.t1=Xt,t.next=5,pt();case 5:t.t2=t.sent,(0,t.t0)(t.t1,t.t2);case 7:case"end":return t.stop()}}),t)})))()},getAboutText:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,bt("about");case 3:r=t.sent,n(Qt,r);case 5:case"end":return t.stop()}}),t)})))()},getStoriesText:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,bt("stories");case 3:r=t.sent,n(en,r);case 5:case"end":return t.stop()}}),t)})))()}},modules:{}}),rn=[{path:"/setup",name:"Setup",component:mt},{path:"/",alias:"/about",name:"About",component:Vt,meta:{requireData:!0}},{path:"/timeline",name:"Timeline",component:Se,meta:{requireData:!0}},{path:"/stories",name:"Stories",component:Ut,meta:{requireData:!0}}],an=Object(m["a"])({history:Object(m["b"])("/"),routes:rn});an.beforeEach(function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(nn.state.dataExists){e.next=3;break}return e.next=3,nn.dispatch("checkIfDataExists");case 3:t.matched.some((function(e){return e.meta.requireData}))&&!nn.state.dataExists?r("/setup"):t.matched.some((function(e){return"Setup"===e.name}))&&nn.state.dataExists?r(n):r();case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var on=an,cn=(n("55e3"),n("6cc5"),[c.a]),sn=[a.a],ln=Object(i["createApp"])(h).use(nn).use(on);cn.forEach((function(e){return ln.use(e)})),sn.forEach((function(e){return ln.use(e)})),ln.mount("#app")},d1b2:function(e,t,n){"use strict";n("973c")},d316:function(e,t,n){},d8bc:function(e,t,n){},e450:function(e,t,n){"use strict";n("a528")},f838:function(e,t,n){"use strict";n("266a")},fae1:function(e,t,n){}});
//# sourceMappingURL=app.fc968824.js.map